.\" Generated by Mmark Markdown Processer - mmark.miek.nl
.TH "COREDNS-ZTNET" 7 "February 2026" "CoreDNS" "CoreDNS Plugins"

.SH "NAME"
.PP
\fB\fCztnet\fR - resolve A/AAAA records for ZeroTier members from a ZTNET API endpoint.

.SH "DESCRIPTION"
.PP
The \fB\fCztnet\fR plugin periodically polls ZTNET network/member APIs and serves DNS answers from an in-memory cache.

.PP
For each authorized member in configured networks, the plugin serves:
- \fB\fCA\fR records for member IPv4 assignments,
- \fB\fCAAAA\fR records computed from RFC4193 and/or 6plane modes when enabled by network settings.

.PP
The plugin resolves both \fB\fC<member-name>.<zone>\fR and \fB\fC<member-id>.<zone>\fR names.

.SH "SYNTAX"
.PP
.RS

.nf
ztnet {
    endpoint  http://localhost:3000
    token     <api\-token>
    network   home.lan:8056c2e21c000001
    network   ztnet.network:abcdef01234567aa
    refresh   60s
    dns\_ttl   30s
    fallthrough
}

.fi
.RE

.IP \(bu 4
\fB\fCendpoint\fR is required.
.IP \(bu 4
\fB\fCtoken\fR is optional when \fB\fCZTNET_API_TOKEN\fR is set.
.IP \(bu 4
\fB\fCnetwork\fR is required and repeatable; format is \fB\fC<zone>:<networkID>\fR.
.IP \(bu 4
\fB\fCrefresh\fR and \fB\fCdns_ttl\fR are optional durations.
.IP \(bu 4
\fB\fCfallthrough\fR is optional.


.SH "EXAMPLES"
.PP
.RS

.nf
ztnet.network home.lan {
    ztnet {
        endpoint  http://localhost:3000
        network   home.lan:8056c2e21c000001
        refresh   60s
        dns\_ttl   30s
        fallthrough
    }
}

.fi
.RE

